{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ListTasks Tool",
  "description": "Retrieve all tasks for a user",
  "type": "object",
  "properties": {
    "input": {
      "type": "object",
      "properties": {
        "user_id": {
          "type": "string",
          "format": "uuid",
          "description": "Authenticated user UUID"
        }
      },
      "required": ["user_id"]
    },
    "output": {
      "oneOf": [
        {
          "type": "object",
          "properties": {
            "success": {
              "type": "boolean",
              "const": true
            },
            "tasks": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "task_id": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "user_id": {
                    "type": "string",
                    "format": "uuid"
                  },
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": ["string", "null"]
                  },
                  "is_completed": {
                    "type": "boolean"
                  },
                  "created_at": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "updated_at": {
                    "type": "string",
                    "format": "date-time"
                  }
                },
                "required": ["task_id", "user_id", "title", "is_completed", "created_at", "updated_at"]
              }
            },
            "count": {
              "type": "integer",
              "minimum": 0
            }
          },
          "required": ["success", "tasks", "count"]
        },
        {
          "type": "object",
          "properties": {
            "success": {
              "type": "boolean",
              "const": false
            },
            "error": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "string",
                  "enum": ["VALIDATION_ERROR", "DATABASE_ERROR"]
                },
                "message": {
                  "type": "string"
                }
              },
              "required": ["code", "message"]
            }
          },
          "required": ["success", "error"]
        }
      ]
    }
  },
  "examples": [
    {
      "input": {
        "user_id": "550e8400-e29b-41d4-a716-446655440000"
      },
      "output": {
        "success": true,
        "tasks": [
          {
            "task_id": "7c9e6679-7425-40de-944b-e07fc1f90ae7",
            "user_id": "550e8400-e29b-41d4-a716-446655440000",
            "title": "Buy groceries",
            "description": "Milk, eggs, bread",
            "is_completed": false,
            "created_at": "2026-01-05T14:30:00.123456Z",
            "updated_at": "2026-01-05T14:30:00.123456Z"
          }
        ],
        "count": 1
      }
    }
  ]
}
